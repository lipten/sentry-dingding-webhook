<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentry to DingDing Webhook</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .status {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        .endpoint {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .code {
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            overflow-x: auto;
            margin: 10px 0;
        }
        .success {
            color: #28a745;
        }
        .warning {
            color: #ffc107;
        }
        .error {
            color: #dc3545;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸš¨ Sentry to DingDing Webhook</h1>
        <p>å°† Sentry å‘Šè­¦è½¬å‘åˆ°é’‰é’‰æœºå™¨äººçš„ Webhook æœåŠ¡</p>
    </div>

    <div class="status">
        <h2>æœåŠ¡çŠ¶æ€</h2>
        <p class="success">âœ… æœåŠ¡è¿è¡Œæ­£å¸¸</p>
        <p>Webhook ç«¯ç‚¹å·²å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥æ¥æ”¶ Sentry çš„å‘Šè­¦æ¶ˆæ¯å¹¶è½¬å‘åˆ°é’‰é’‰ã€‚</p>
    </div>

    <div class="endpoint">
        <h2>Webhook ç«¯ç‚¹</h2>
        <p><strong>URL:</strong></p>
        <div class="code" id="webhookUrl">https://your-site.netlify.app/webhook</div>
        <p><strong>æ–¹æ³•:</strong> POST</p>
        <p><strong>å†…å®¹ç±»å‹:</strong> application/json</p>
    </div>

    <div class="endpoint">
        <h2>ç¯å¢ƒå˜é‡é…ç½®</h2>
        <p>è¯·åœ¨ Netlify æ§åˆ¶å°ä¸­è®¾ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š</p>
        <div class="code">DINGDING_WEBHOOK_URL=https://oapi.dingtalk.com/robot/send?access_token=YOUR_TOKEN</div>
    </div>

    <div class="endpoint">
        <h2>Sentry é…ç½®</h2>
        <p>åœ¨ Sentry é¡¹ç›®ä¸­é…ç½® Webhookï¼š</p>
        <ol>
            <li>è¿›å…¥ Sentry é¡¹ç›®è®¾ç½®</li>
            <li>é€‰æ‹© "Integrations" â†’ "Webhooks"</li>
            <li>æ·»åŠ æ–°çš„ Webhookï¼ŒURL è®¾ç½®ä¸ºä¸Šé¢çš„ç«¯ç‚¹åœ°å€</li>
            <li>é€‰æ‹©éœ€è¦è§¦å‘çš„äº‹ä»¶ç±»å‹ï¼ˆå¦‚ Errorã€Warning ç­‰ï¼‰</li>
        </ol>
    </div>

    <div class="endpoint">
        <h2>æµ‹è¯• Webhook</h2>
        <p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æµ‹è¯• webhook æ˜¯å¦æ­£å¸¸å·¥ä½œï¼š</p>
        <div class="code">curl -X POST https://sentry-dingding-webhook.netlify.app/webhook \
  -H "Content-Type: application/json" \
  -d '{
    "environment": "production",
    "project": {"name": "test-project"},
    "level": "error",
    "datetime": "2024-01-01T12:00:00Z",
    "url": "https://sentry.io/organizations/your-org/issues/123",
    "message": "Test error message",
    "culprit": "test.js:1:1"
  }'</div>
    </div>

    <script>
        // è‡ªåŠ¨æ›´æ–°webhook URLä¸ºå½“å‰åŸŸå
        const currentUrl = window.location.origin + '/webhook';
        document.getElementById('webhookUrl').textContent = currentUrl;
    </script>
</body>
</html> 